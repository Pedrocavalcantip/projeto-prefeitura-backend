generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model ongs {
  id_ong                Int                   @id @default(autoincrement())
  nome                  String                @db.VarChar(100)
  email_ong             String                @unique @db.VarChar(255)
  logo_url              String               @db.VarChar(255)
  produtos              produtos[]
}

model produtos {
  id_produto          Int                   @id @default(autoincrement())
  titulo              String                @db.VarChar(150)
  descricao           String
  tipo_item           String                @db.VarChar(50)
  url_imagem          String
  prazo_necessidade   DateTime              @db.Date
  criado_em           DateTime?             @default(now()) @db.Timestamp(6)
  ong_id              Int
  finalidade          FinalidadeProduto     @default(DOACAO)
  quantidade          Int?                  @default(1)
  urgencia            NivelUrgencia         @default(MEDIA)
  status              StatusProduto         @default(ATIVA)
  email               String                @db.VarChar(255)
  whatsapp            String                @db.VarChar(20)
  ong                 ongs                  @relation(fields: [ong_id], references: [id_ong])
  finalizado_em       DateTime?             @db.Date
}

enum NivelUrgencia {
  BAIXA
  MEDIA
  ALTA
}

enum FinalidadeProduto {
  DOACAO
  REALOCACAO
}

enum StatusProduto {
  ATIVA
  FINALIZADA
}
